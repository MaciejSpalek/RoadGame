(this.webpackJsonproadgame=this.webpackJsonproadgame||[]).push([[0],{14:function(e,t,a){e.exports=a.p+"static/media/step_1.98d4a8f4.png"},15:function(e,t,a){e.exports=a.p+"static/media/step_2.c9a01342.png"},16:function(e,t,a){e.exports=a.p+"static/media/step_3.b351b6c7.png"},17:function(e,t,a){e.exports=a.p+"static/media/step_4.1364df59.png"},18:function(e,t,a){e.exports=a.p+"static/media/close.679c3916.svg"},24:function(e,t,a){e.exports=a(37)},29:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(10),s=a.n(r),o=(a(29),a(4)),c=a(3),u=a.n(c),l=a(7),m=a(11),d=a(12),f=a(22),h=a(13),S=a(2),p=a(23),v=a(5),_=a.n(v),b=function(e){var t=e.firstSquare,a=e.row,n=e.col,r=e.partOfRoad,s=e.handleClick,o=e.clickedRoad,c=e.missArray,u=e.index,l="".concat(a).concat(n),m=_()({square:!0,startSquare:t===l||r[r.length-1]===l,drawRoad:r.includes(l)&&r[r.length-1]!==l,hitSquare:o.filter((function(e){return e===l}))[0],missSquare:c.filter((function(e){return e===l}))[0]});return i.a.createElement("div",{className:m,onClick:function(e){return s(l,u,e)}})},g=function(e,t){return e.amountOfSquares*e.time+t},y=function(e){return e.slice(0,e.length)},k=function(e,t,a,n){for(var i=0;i<t.length;i++)if(t[i]==="".concat(a).concat(n)||e==="".concat(a).concat(n))return!0},O=a(21),E=function(e){var t=e.counterTime;console.log(t);var a=Object(n.useState)(t),r=Object(O.a)(a,2),s=r[0],o=r[1];return Object(n.useEffect)((function(){var e=s>0&&setInterval((function(){return o(s-1)}),1e3);return function(){return clearInterval(e)}}),[s]),i.a.createElement("span",{className:"game__parameter game__parameter--counter"},s,"s")},q=a(14),N=a.n(q),L=a(15),C=a.n(L),B=a(16),I=a.n(B),x=a(17),w=a.n(x),R=a(18),T=a.n(R);function D(e){var t=e.handleToggleIntro;return i.a.createElement("div",{className:"introduction"},i.a.createElement("div",{className:"introduction__wrapper scroll"},i.a.createElement("header",{className:"introduction__header"},i.a.createElement("h3",{className:"introduction__title"},"Hello in RoadGame"),i.a.createElement("span",{className:"introduction__propose"},"Don't you know what's going on?"),i.a.createElement("br",null),i.a.createElement("span",{className:"introduction__propose"},"So come with me...")),i.a.createElement("ul",{className:"introduction__list"},i.a.createElement("li",{className:"introduction__item"},i.a.createElement("span",{className:"introduction__step"},"Step 1"),i.a.createElement("img",{className:"introduction__image",src:N.a,alt:"introduction_image"}),i.a.createElement("p",{className:"introduction__description"},"Firstly, choose one game level.")),i.a.createElement("li",{className:"introduction__item"},i.a.createElement("span",{className:"introduction__step"},"Step 2"),i.a.createElement("img",{className:"introduction__image",src:C.a,alt:"introduction_image"}),i.a.createElement("p",{className:"introduction__description"},"Click start and try to remember whole road in correct order.")),i.a.createElement("li",{className:"introduction__item"},i.a.createElement("span",{className:"introduction__step"},"Step 3"),i.a.createElement("img",{className:"introduction__image",src:I.a,alt:"introduction_image"}),i.a.createElement("p",{className:"introduction__description"},"Click in the consecutive parts of the road. Warning! If you miss or click in incorrect order, you lose one life.")),i.a.createElement("li",{className:"introduction__item"},i.a.createElement("span",{className:"introduction__step"},"Step 4"),i.a.createElement("img",{className:"introduction__image",src:w.a,alt:"introduction_image"}),i.a.createElement("p",{className:"introduction__description"},"If everything goes well, you're gonna go to the next board with additional parts of the road. If you finish all ten boards on three different difficulty levels you'll become an expert and you don't need to eat nuts! Have fun!"))),i.a.createElement("button",{onClick:function(){return t()},className:"introduction__button"},i.a.createElement("img",{className:"introduction__button-icon",src:T.a,alt:"close-icon"}))))}var A=function(e){var t=e.handleClick,a=e.nameLevel,n=e.amountOfSquares,r=e.amountOfLives,s=e.time,o=e.counterTime;return i.a.createElement("button",{className:"game__level-button game__button",onClick:function(){return t(n,s,r,o)}},a)};function G(e){var t=e.setDifficultyLevel,a=e.handleToggleIntro;return i.a.createElement("div",{className:"game__start-layer"},i.a.createElement("div",null,i.a.createElement("h1",{className:"game__title"},"Road Game"),i.a.createElement("p",{className:"game__subtitle"},"Chose your path or die!")),i.a.createElement("ul",{className:"game__button-box"},i.a.createElement(A,{handleClick:t,nameLevel:"Easy",amountOfSquares:3,time:800,amountOfLives:15,counterTime:6}),i.a.createElement(A,{handleClick:t,nameLevel:"Normal",amountOfSquares:6,time:600,amountOfLives:10,counterTime:4}),i.a.createElement(A,{handleClick:t,nameLevel:"Expert",amountOfSquares:9,time:300,amountOfLives:5,counterTime:2})),i.a.createElement("button",{onClick:function(){return a()},className:"game__intro-button game__button"},"Intro"))}var V=a(19),j=a(20),M=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(f.a)(this,Object(h.a)(t).call(this,e))).drawFirstSquare=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state.board,t=n[Math.round(9*Math.random())][Math.round(9*Math.random())],e.next=3,a.setState({firstSquare:t});case 3:return e.next=5,a.setRoad(a.state.firstSquare);case 5:case"end":return e.stop()}var n}),e)}))),a.setRoad=function(e){var t=[];a.setState({isBusyArray:!1});for(var n=0;n<a.state.amountOfSquares&&!a.state.isBusyArray;n++)a.setSingleSquare(t,e,n);a.state.isBusyArray||a.setState({road:t})},a.handleStart=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({isStartButtonDisabled:!0,isWin:!1,isChangeLevelButtonDisabled:!0});case 2:return e.next=4,a.drawFirstSquare();case 4:return e.next=6,a.setCounter();case 6:return e.next=8,a.unlockSquares();case 8:return e.next=10,a.updateRoad();case 10:return e.next=12,a.hideRoad();case 12:case"end":return e.stop()}}),e)}))),a.setTimeBetweenDraw=function(e,t,n){setTimeout((function(){e.push(t),a.setState({partOfRoad:e})}),n)},a.checkRoad=function(e,t,n){n.preventDefault();var i=a.state,r=i.clickedRoad,s=i.missArray,c=i.road,u=i.areSquaresLocked,l=i.firstSquare,m=i.lastClickedIndex,d=i.isDeletingMiss,f=t.filter((function(e){return"number"==typeof e?e+1:null}))[0];u||r.includes(e)||s.includes(e)||e===l||d||(f===m?a.setState((function(t){return{lastClickedIndex:t.lastClickedIndex+1,clickedRoad:[].concat(Object(o.a)(t.clickedRoad),[e]),topBoxInformation:"Nice shot!",areSquaresLocked:!0}}),(function(){a.state.lastClickedIndex===c.length?a.winRound():a.deleteInformation()})):c.includes(e)&&f!==m?a.setState((function(t){return{miss:t.miss+1,missArray:[].concat(Object(o.a)(s),[e]),topBoxInformation:"Wrong order!",isDeletingMiss:!0,areSquaresLocked:!0}}),(function(){a.state.miss>=a.state.amountOfLives?a.gameOver():(a.deleteMiss(s),a.deleteInformation())})):a.setState((function(t){return{miss:t.miss+1,missArray:[].concat(Object(o.a)(s),[e]),topBoxInformation:"Miss!",areSquaresLocked:!0}}),(function(){a.state.miss>=a.state.amountOfLives?a.gameOver():a.deleteInformation()})))},a.setDifficultyLevel=function(e,t,n,i){a.setState({amountOfSquares:e,amountOfLives:n,time:t,counterTime:i,isStartLayerVisible:!1,isStartButtonDisabled:!1,isCounterVisible:!1}),a.cleanStateOfGame()},a.handleChangeLevel=function(){a.setState({isStartLayerVisible:!0,level:1,amountOfLives:15,miss:0,buttonCaption:"Start"}),a.cleanStateOfGame()},a.handleToggleIntro=function(){a.setState({isIntroVisible:!a.state.isIntroVisible})},a.state={isChangeLevelButtonDisabled:!1,isStartButtonDisabled:!0,isStartLayerVisible:!0,isCounterVisible:!1,areSquaresLocked:!0,isIntroVisible:!1,isDeletingMiss:!1,isBusyArray:!1,isGameOver:!1,isWinGame:!1,buttonCaption:"Start",topBoxInformation:"",lastClickedIndex:0,amountOfSquares:3,amountOfLives:15,firstSquare:null,counterTime:5,dimension:10,time:100,level:1,miss:0,clickedRoad:[],partOfRoad:[],missArray:[],busyArray:[],board:[],road:[]},a.handleStart=a.handleStart.bind(Object(S.a)(a)),a.checkRoad=a.checkRoad.bind(Object(S.a)(a)),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.ifUserWasOnSite(),this.setState({board:this.createBoard()})}},{key:"ifUserWasOnSite",value:function(){localStorage.getItem("RoadGameToken")||(localStorage.setItem("RoadGameToken","RoadGameToken"),this.setState({isIntroVisible:!this.state.isIntroVisible}))}},{key:"createBoard",value:function(){for(var e=[],t=0;t<this.state.dimension;t++){e[t]=[];for(var a=0;a<this.state.dimension;a++)e[t][a]="".concat(t).concat(a)}return e}},{key:"setBusyState",value:function(e){this.state.busyArray.includes(e)||this.setState({busyArray:[].concat(Object(o.a)(this.state.busyArray),[e])})}},{key:"setSingleSquare",value:function(e,t,a){if(this.state.busyArray.length>3)return this.setState({road:[],busyArray:[],isBusyArray:!0}),this.drawFirstSquare();var n,i,r=this.state.board,s=Math.round(3*Math.random());if(a<1?(n=+t.substr(0,1),i=+t.substr(1,1)):(n=+e[e.length-1].substr(0,1),i=+e[e.length-1].substr(1,1)),0===s){if(!(n-1>=0)||k(this.state.firstSquare,e,n-1,i))return this.setBusyState(s),this.setSingleSquare(e,t,a);t=r[n-1][i],e.push(t),this.setState({busyArray:[]})}else if(1===s){if(!(i+1<=9)||k(this.state.firstSquare,e,n,i+1))return this.setBusyState(s),this.setSingleSquare(e,t,a);t=r[n][i+1],e.push(t),this.setState({busyArray:[]})}else if(2===s){if(!(n+1<=9)||k(this.state.firstSquare,e,n+1,i))return this.setBusyState(s),this.setSingleSquare(e,t,a);t=r[n+1][i],e.push(t),this.setState({busyArray:[]})}else if(3===s){if(!(i-1>=0)||k(this.state.firstSquare,e,n,i-1))return this.setBusyState(s),this.setSingleSquare(e,t,a);t=r[n][i-1],e.push(t),this.setState({busyArray:[]})}}},{key:"unlockSquares",value:function(){var e=this,t=this.state,a=t.amountOfSquares,n=t.time,i=t.counterTime;setTimeout((function(){e.setState({areSquaresLocked:!1})}),g({amountOfSquares:a,time:n},1e3*i))}},{key:"updateRoad",value:function(){var e=this,t=this.state,a=t.road,n=t.board,i=t.time,r=[];n.map((function(t){t.map((function(t){if(t===a.filter((function(e){return e===t?t:null}))[0]){var n=function(e,t,a){return e.map((function(e,n){return e===t?(n+1)*a:null})).filter((function(e){return"number"===typeof e}))[0]}(a,t,i);e.setTimeBetweenDraw(r,t,n)}}))}))}},{key:"hideRoad",value:function(){var e=this,t=this.state,a=t.amountOfSquares,n=t.time,i=t.counterTime;setTimeout((function(){e.setState({partOfRoad:[],isCounterVisible:!1})}),g({amountOfSquares:a,time:n},1e3*i+500))}},{key:"gameOver",value:function(){var e=this;this.setState({areSquaresLocked:!0,isChangeLevelButtonDisabled:!0,isGameOver:!0}),setTimeout((function(){e.setState({isStartLayerVisible:!0,isChangeLevelButtonDisabled:!1,areSquaresLocked:!0,isGameOver:!1,buttonCaption:"Start",topBoxInformation:"",level:1,amountOfLives:15,miss:0}),e.cleanStateOfGame()}),4e3)}},{key:"winRound",value:function(){var e=this;setTimeout((function(){e.setState((function(e){return{level:e.level+1,amountOfSquares:e.amountOfSquares+2,topBoxInformation:""}}),(function(){10===e.state.level&&e.winGame()})),10!==e.state.level?(e.setState({areSquaresLocked:!0,buttonCaption:"Next level"}),e.cleanStateOfGame()):e.setState({areSquaresLocked:!0,buttonCaption:"Start"})}),1e3)}},{key:"winGame",value:function(){var e=this;this.setState({isWinGame:!0,isStartButtonDisabled:!0,isChangeLevelButtonDisabled:!0}),setTimeout((function(){e.setState({areSquaresLocked:!0,isWinGame:!1,buttonCaption:"Start",topBoxInformation:"",level:1,amountOfLives:15,miss:0,isStartLayerVisible:!0,isChangeLevelButtonDisabled:!1}),e.cleanStateOfGame()}),4e3)}},{key:"cleanStateOfGame",value:function(){this.setState({missArray:[],road:[],clickedRoad:[],partOfRoad:[],firstSquare:null,areSquaresLocked:!0,isStartButtonDisabled:!1,lastClickedIndex:0})}},{key:"deleteInformation",value:function(){var e=this;setTimeout((function(){e.setState({topBoxInformation:"",areSquaresLocked:!1})}),300)}},{key:"deleteMiss",value:function(e){var t=this;setTimeout((function(){t.setState({missArray:y(e),isDeletingMiss:!1})}),300)}},{key:"setCounter",value:function(){var e=this,t=this.state,a=t.amountOfSquares,n=t.time;setTimeout((function(){e.setState({isCounterVisible:!0,isChangeLevelButtonDisabled:!1})}),g({amountOfSquares:a,time:n},0))}},{key:"renderBoard",value:function(){var e=this,t=this.state,a=t.firstSquare,n=t.board,r=t.partOfRoad,s=t.clickedRoad,o=t.missArray,c=t.road;return n.map((function(t,n){return t.map((function(t,u){return i.a.createElement(b,{firstSquare:a===t?a:null,partOfRoad:r,clickedRoad:s,missArray:o,key:"".concat(n).concat(u),row:n,col:u,handleClick:e.checkRoad,index:c.map((function(e,a){return e===t?a:null}))})}))}))}},{key:"render",value:function(){var e=this.state,t=e.isStartButtonDisabled,a=e.buttonCaption,n=e.miss,r=e.level,s=e.isCounterVisible,o=e.topBoxInformation,c=e.isGameOver,u=e.isWinGame,l=e.amountOfLives,m=e.isStartLayerVisible,d=e.isChangeLevelButtonDisabled,f=e.isIntroVisible,h=e.counterTime,S=_()({"game__information game__information--correct":"Nice shot!"===this.state.topBoxInformation,"game__information game__information--wrong":"Wrong order!"===this.state.topBoxInformation,"game__information game__information--miss":"Miss!"===this.state.topBoxInformation,"game__information game__information--none":""===this.state.topBoxInformation});return i.a.createElement(i.a.Fragment,null,f&&i.a.createElement(D,{handleToggleIntro:this.handleToggleIntro}),i.a.createElement("div",{className:"game"},m?i.a.createElement(G,{setDifficultyLevel:this.setDifficultyLevel,handleToggleIntro:this.handleToggleIntro}):i.a.createElement("div",{className:"game__board-layer"},i.a.createElement("div",{className:"game__board-wrapper"},i.a.createElement("div",{className:"game__top-box"},i.a.createElement("span",{className:"game__parameter"},"Board ",r),!!s&&i.a.createElement(E,{counterTime:h}),i.a.createElement("span",{className:S}," ",o),i.a.createElement("span",{className:"game__parameter"},i.a.createElement(V.a,{icon:j.a,className:"heartIcon"}),l-n)),i.a.createElement("div",{className:"game__board"},i.a.createElement("span",{className:c?"board__gameOver-caption":"board__gameOver-caption--none"}),i.a.createElement("span",{className:u?"board__winGame-caption":"board__winGame-caption--none"}),this.renderBoard())),i.a.createElement("div",{className:"game__button-box game__button-box--board"},i.a.createElement("button",{className:t?"game__button game__button--disabled":"game__button",disabled:t,onClick:this.handleStart},a),i.a.createElement("button",{className:d?"game__button game__button--disabled":"game__button",onClick:this.handleChangeLevel,disabled:d},"Change level")))))}}]),t}(i.a.Component);a(36);var W=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(M,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[24,1,2]]]);
//# sourceMappingURL=main.a99c51be.chunk.js.map